<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>16-五角星旋转</title>
    <style>
        canvas{
            border: 1px solid #000;
            margin:0 auto;
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="600" height="400"></canvas>
    <script>
        var canvas = document.getElementById("canvas")
        var ctx = canvas.getContext("2d")
        console.log(ctx)
        var x0 = canvas.width/2
        var y0 = canvas.height/2
        var deg = Math.PI / 30
        // 表盘
        function biaopan(x,y,w,h,r) {
            ctx.moveTo(x,y+r)
            ctx.arcTo(x,y+h,x+w,y+h,r)
            ctx.arcTo(x+w,y+h,x+w,y,r)
            ctx.arcTo(x+w,y,x,y,r)
            ctx.arcTo(x,y,x,y+h,r)
        }
        biaopan(150,50,300,300,20)
        ctx.arc(x0,y0,140,0,2*Math.PI)
        ctx.fillStyle = "#098567"
        ctx.fill()

        // 刻度
        ctx.beginPath()
        for (var i = 0; i < 60; i++) {
            ctx.beginPath()
            if (i%5==0) {
                ctx.moveTo(x0+130*Math.cos(i*deg),y0+130*Math.sin(i*deg))
                ctx.lineTo(x0+140*Math.cos(i*deg),y0+140*Math.sin(i*deg))
                ctx.strokeStyle = "red"
                ctx.fillText(Math.floor(i/5+1),x0-5+120*Math.cos((i+5)*deg - Math.PI/2),y0+120*Math.sin((i+5)*deg - Math.PI/2))
                ctx.textBaseline = "middle"
                ctx.lineWidth = 6
            }else{
                ctx.moveTo(x0+135*Math.cos(i*deg),y0+135*Math.sin(i*deg))
                ctx.lineTo(x0+140*Math.cos(i*deg),y0+140*Math.sin(i*deg))
                ctx.strokeStyle = "blue"
                ctx.lineWidth = 2
            }
            ctx.stroke()
        }
        console.log((new Date()).getMinutes())
        // (new Date()).toString().split(' ')[4].split(':') 拿到当前时间的时分秒
        console.log((new Date()).toString().split(' ')[4].split(':'))
    </script>
</body>
</html>